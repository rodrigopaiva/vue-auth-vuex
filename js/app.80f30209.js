(function(t){function e(e){for(var a,n,o=e[0],u=e[1],l=e[2],m=0,d=[];m<o.length;m++)n=o[m],s[n]&&d.push(s[n][0]),s[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],a=!0,o=1;o<r.length;o++){var u=r[o];0!==s[u]&&(a=!1)}a&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var a={},s={app:0},i=[];function n(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=a,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("04f5"),s=r.n(a);s.a},"039a":function(t,e,r){"use strict";var a=r("e6c6"),s=r.n(a);s.a},"04f5":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c");var a=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[r("i",{staticClass:"fas fa-home"}),t._v(" Home")]),t._v(" |\n    "),r("router-link",{attrs:{to:"/about"}},[r("i",{staticClass:"fas fa-file-alt"}),t._v(" About")]),t.isLoggedIn?r("span",[t._v(" | "),r("a",{on:{click:t.logout}},[t._v("Logout "),r("i",{staticClass:"fas fa-sign-out-alt"})])]):t._e()],1),r("router-view")],1)},i=[],n={computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{logout:function(){var t=this;this.$store.dispatch("logout").then(function(){t.$router.push("/login")})}},created:function(){this.$http.interceptors.response.use(void 0,function(t){return new Promise(function(e,r){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch(logout),t})})}},o=n,u=(r("034f"),r("2877")),l=Object(u["a"])(o,s,i,!1,null,null,null),c=l.exports,m=r("8c4f"),d=r("2f62"),f=r("bc3a"),p=r.n(f);a["a"].use(d["a"]);var v=new d["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",user:{}},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e,r){t.status="success",t.token=e,t.user=r},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token=""}},actions:{login:function(t,e){var r=t.commit;return new Promise(function(t,a){r("auth_request"),p()({url:"https://reqres.in/api/login",data:e,method:"POST"}).then(function(e){var a=e.data.token,s=e.data.user;localStorage.setItem("token",a),p.a.defaults.headers.common["Authorization"]=a,r("auth_success",a,s),t(e)}).catch(function(t){r("auth_error"),localStorage.removeItem("token"),a(t)})})},register:function(t,e){var r=t.commit;return new Promise(function(t,a){r("auth_request"),p()({url:"https://reqres.in/api/register",data:e,method:"POST"}).then(function(e){var a=e.data.token,s=e.data.user;localStorage.setItem("token",a),p.a.defaults.headers.common["Authorization"]=a,r("auth_success",a,s),t(e)}).catch(function(t){r("auth_error",t),localStorage.removeItem("token"),a(t)})})},logout:function(t){var e=t.commit;return new Promise(function(t,r){e("logout"),localStorage.removeItem("token"),delete p.a.defaults.headers.common["Authorization"],t()})}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status}}}),h=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("p",[t._v("Mussum Ipsum, cacilds vidis litro abertis. Casamentiss faiz malandris se pirulitá. Quem manda na minha terra sou euzis! Detraxit consequat et quo num tendi nada. Aenean aliquam molestie leo, vitae iaculis nisl.")]),a("p",[t._v("Todo mundo vê os porris que eu tomo, mas ninguém vê os tombis que eu levo! Manduma pindureta quium dia nois paga. Atirei o pau no gatis, per gatis num morreus. Suco de cevadiss deixa as pessoas mais interessantis.")]),a("img",{attrs:{src:r("cf05")}})])}],_={name:"home",components:{}},b=_,w=(r("cccb"),Object(u["a"])(b,h,g,!1,null,null,null)),k=w.exports,C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"about"},[r("h1",[t._v("This is an about page")])])}],y={},q=Object(u["a"])(y,C,x,!1,null,null,null),$=q.exports,P=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("form",{staticClass:"login",on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("h1",[t._v("Sign in")]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[t._v("E-mail")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.email},attrs:{type:"email",name:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.email,expression:"submitted && !email"}],staticClass:"invalid-feedback"},[t._v("E-mail is required")])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{htmlFor:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{type:"password",name:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.password,expression:"submitted && !password"}],staticClass:"invalid-feedback"},[t._v("Password is required")])]),r("div",{staticClass:"form-group"},[t.error?r("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Login")]),r("router-link",{staticClass:"btn btn-link",attrs:{to:"/register"}},[t._v("Register")])],1)])])},S=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("\n    \tVue + Vuex + Axios - User Registration and Login "),r("br"),t._v("\n    \tConsume API from "),r("a",{attrs:{href:"https://reqres.in/",target:"_blank"}},[t._v("REQ | RES")])])}],E={data:function(){return{email:"",password:"",submitted:!1,error:!1}},methods:{login:function(){var t=this,e=this.email,r=this.password;this.$store.dispatch("login",{email:e,password:r}).then(function(){return t.$router.push("/")}).catch(function(){return t.loginFailed()})},loginFailed:function(){this.error="Login failed!",delete localStorage.token}}},O=E,A=(r("039a"),Object(u["a"])(O,P,S,!1,null,null,null)),I=A.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("This page is protected by auth")]),r("p",[t._v("texto: "+t._s(t.first_name))])])},R=[],L={data:function(){return{id:"",email:"",first_name:"",last_name:"",avatar:""}},methods:{perfil:function(){var t=this,e={id:this.id,email:this.email,first_name:this.first_name,last_name:this.last_name,avatar:this.avatar};this.$store.dispatch("perfil",e).then(function(){return t.$router.push("/")})}}},N=L,T=Object(u["a"])(N,j,R,!1,null,null,null),z=T.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("form",{staticClass:"register",on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[r("h1",[t._v("Register")]),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"email"}},[t._v("E-mail Address")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.email},attrs:{id:"email",type:"email",name:"email",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.email,expression:"submitted && !email"}],staticClass:"invalid-feedback"},[t._v("E-mail is required")])]),r("div",{staticClass:"form-group"},[r("label",{attrs:{htmlFor:"password"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:{"is-invalid":t.submitted&&!t.password},attrs:{id:"password",type:"password",name:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.submitted&&!t.password,expression:"submitted && !password"}],staticClass:"invalid-feedback"},[t._v("Password is required")])]),r("div",{staticClass:"form-group"},[t.error?r("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Register")])])])])},M=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("\n        Vue + Vuex + Axios - User Registration and Login "),r("br"),t._v("\n        Consume API from "),r("a",{attrs:{href:"https://reqres.in/",target:"_blank"}},[t._v("REQ | RES")])])}],V={data:function(){return{email:"",password:"",submitted:!1,error:!1}},methods:{register:function(){var t=this,e={email:this.email,password:this.password};this.$store.dispatch("register",e).then(function(){return t.$router.push("/")}).catch(function(){return t.registerFailed()})},registerFailed:function(){this.error="Register failed!",delete localStorage.token}}},D=V,Q=(r("f30e"),Object(u["a"])(D,F,M,!1,null,null,null)),J=Q.exports;a["a"].use(m["a"]);var U=new m["a"]({mode:"history",routes:[{path:"/",name:"home",component:k,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:I,meta:{redirect:!0}},{path:"/register",name:"register",component:J},{path:"/secure",name:"secure",component:z,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:$,meta:{requiresAuth:!0}}]});U.beforeEach(function(t,e,r){if(t.matched.some(function(t){return t.meta.requiresAuth})){if(v.getters.isLoggedIn)return void r();r("/login")}else{if(t.matched.some(function(t){return t.meta.redirect})&&v.getters.isLoggedIn)return void r("/");r()}});var H=U;a["a"].prototype.$http=p.a;var B=localStorage.getItem("user-token");B&&(a["a"].prototype.$http.defaults.headers.common["Authorization"]=B),a["a"].config.productionTip=!1,new a["a"]({router:H,store:v,render:function(t){return t(c)}}).$mount("#app")},"7cf3":function(t,e,r){},b861:function(t,e,r){},cccb:function(t,e,r){"use strict";var a=r("b861"),s=r.n(a);s.a},cf05:function(t,e,r){t.exports=r.p+"img/logo.82b9c7a5.png"},e6c6:function(t,e,r){},f30e:function(t,e,r){"use strict";var a=r("7cf3"),s=r.n(a);s.a}});
//# sourceMappingURL=app.80f30209.js.map